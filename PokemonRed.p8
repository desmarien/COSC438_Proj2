pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--https://pokemondb.net/sprites/rattata
--https://pokemondb.net/sprites/pidgey

function _init()
  palt(0,false)
  squirtle = {
    lvl = 5,
    curhp = 100,
    maxhp = 100
  }
  selectx=55
  selecty=93
  inbattle = false
  
  //this is for testing purposes
  startbattle()
end

function _update()
  if inbattle then
    if btlstage<2 then
      if btnp(4) then
        btlstage+=1
      end
    end
    
    if btn(0) then
      selectx=55
    elseif btn(1) then
      selectx=91
    elseif btn(2) then
      selecty=93
    elseif btn(3) then
      selecty=108
    end
  end
end
    
function _draw()
  cls()
  if inbattle then
    map(112,5,0,0,16,16)
    spr(117,selectx,selecty)
    print(":l"..enemylvl,25,10)
    print("hp:",13,18)
    rectfill(25,19,25+(37*(enemyhp/enemyhpmax)),20,5)
    rectfill(73,59,72+(38*(squirtle.curhp/squirtle.maxhp)),60,5)
    if enemy == 0 then
        map(124,0,80,10,4,4)
        print("rattata",12,3,0)
      else
        map(120,0,80,10,4,4)
        print("pidgey",12,3,0)
      end
    if btlstage == 2 then
      map(112,0,12,57,4,3)
      print("squirtle",75,45)
      print(":l5",90,52)
      print(squirtle.curhp.."/ "..squirtle.maxhp,80,65)
      print("fight",64,95,0)
      print("pkmn",100,95,0)
      print("item",64,110,0)
      print("run",100,110,0)
    else
      map(112,21,0,80,16,6)
      if btlstage == 0 then
        map(116,0,12,50,4,4)
        print("a wild "..enemyname.." appeared!",10,90)
      elseif btlstage == 1 then
        spr(120,25,70)
        print("go! squirtle!",10,90)
      end
    end
    
  end
end
-->8
function startbattle()
  inbattle = true
  btlstage = 0 
  enemyname = "rattata"
  enemylvl = flr(rnd(4))+3
  enemyhp = 100
  enemyhpmax = 100
  enemy =  flr(rnd(2))
  if enemy == 1 then 
    enemyname = "pidgey"
  end
end
__gfx__
00000000770000776767676677777777775500005777777777777777777777777777777777777777777777777777777777777777777777700005777777777777
00000000705665077676767676767777757777777505777777777777777777777777777777777777777777777777777777777777777770066666007777777777
00700700056776506776676776767676577700056777005777777777777777777777700000070077777777777777777777777777777006666666607777777777
00077000077667706767767677777676567566660056777077777777777777777777050655007600777777777777777777777777700556565666665777777777
00077000056776507667666777777777706656666570056750777777777777777777006550766665077777777777777777777777055555656566660777777777
00700700055665507676767677676777775066666077770566507777777777777770065506665500777777777777777777777770555555565656660007777777
00000000705665076766676777676767777750055777777700660777777777777700655000000007777777777777777777777770555555555555577770777777
00000000770000776676766677777767777777777777777777066077777777777700550005555550777777777777777777777770555555555577777007777777
70000007770000070676767055555555777777777777777775500507777777777770000700055555077777777777777777777777550005500005500777777777
00000000707777700006675766666666777777777777777557777760777777777770005050005555500777777777777777777777055555500070600777777777
75775700707070700060757666767776777777650777775777777666077777777707600500005555555007777777777777777777000000000060707777777777
70000770707777700676056566666666777776776077707777666666607777777076650007005555555550000000777777777777000000000060775777777777
06666070775555570665565755555555777775666657076650056666607777777700550777055655555550666650007777777777700000000060770777777777
05656070705555500600656566666666777770666560056066660666665777777707007770556555555500000006660777777777750000000506607777777777
70000770776666675006055567776766777770665077760666570666660777777707777777506555555066666665556077777777775000056666577777777777
77777770776777675560600066666666777077500776666665670666660777777707777777706555555056666650005077777775000055500550777777777777
77777777650005770656565000000000770707066666656665775666666077777706777777770655555500000006660677777506666600055007777777777777
77777777606750677005505700000000777570666666075656756666666577777770777777770655555056666666505077775656666666005070577777777777
77777777055760077750057700000000777706666660770657706670666607777770777777777055550666666500050777770565656560050677707777777777
77777777606776067750065700000000777070766607070675066670566660777770676767777700550555000000007777705500565605550677070770057777
77777777057765007560605500000000777577777775557670006705055665777777060760777776000000555000777777700077055505550660777007770777
77777777055655005606005500000000777750007777775057770705705566577777060766077776600555555500777777065500000055550606777067770777
77777777600500075500650000000000777707770077777770007057770566577777705076600666605555555507777777005555550055506606677755777577
77777777665006760006666000000000777575776007775075777077777566657777770600066000060555555007777777005555555055500066667707577077
67677776777777560606060000000000777070750770777656660577777077757777777067777666666055550077777777705555555055055066666607705077
76655667777775757070505000000000777700000777077656660777770675757777005606777777766600000777777777705555555055050606666607000777
77577567557756656706050000000000777777550777076566666577770600577000666660057777666000000777777777770055555500506070666000777777
65755656575756565670605000000000777770665077070556666077777777770770005655500000000066665077777777777700000050550777000077777777
75766657576555577567050000000000777770666500706606666077777777770000577000077700600666505707777777777777777777777777777777777777
57566575757655675656005000000000777706666060077705666067777777777770700777777077077505777007777777777777777777777777777777777777
75555557665655775550600500000000777705750677777770575707777777777770077777770700770777777777777777777777777777777777777777777777
67755776766556770006065500000000777770007777777777000077777777777777777777770075057777777777777777777777777777777777777777777777
77777777777775000000577777777777770000007777777777777777777777777777777777777777000000000000000000000000000000000000000000000000
77777777777706776666607777777777770000007770077777777777777777777777777777777777000000000000000000000000000000000000000000000000
77777777777067777666660777777777770000007707007000000000700000000000000000000007000000000000000000000000000000000000000000000000
77777777770666776666667077777777770000007000000777777777077777777777777777777770000000000000000000000000000000000000000000000000
77777777775666666666675577777777770000007077770700000000077777777777777777777770000000000000000000000000000000000000000000000000
77777777756666666600000007777777770000007707707000000000700000000000000000000007000000000000000000000000000000000000000000000000
77777777706666666660000070777777770000007770070777777777777777777777777777777777000000000000000000000000000000000000000000000000
77777777706666666666000000777777770000007770707777777777777777777777777777777777000000000000000000000000000000000000000000000000
77777777706666666666600000777777770000007707077777777777777700770077777777007777000000000000000000000000000000000000000000000000
77777777756666666666066007777777770000007707077777700777777700770000777777007777000000000000000000000000000000000000000000000000
77777777775005666666650577777777770000007707077707070077777700770000007777007777000000000000000000000000000000000000000000000000
77777777500000056666666077777777770000007707077770000007777700770000000077007777000000000000000000000000000000000000000000000000
77777770660760765056650777777777770000007707077770777707777700777777777777007777000000000000000000000000000000000000000000000000
77777707506766065605057777777777770000007707077707077077777700777777777777007777000000000000000000000000000000000000000000000000
77777005006655000500000777777777770000007707077770700777777700777777777777007777000000000000000000000000000000000000000000000000
77775700660550676000005077777777770000007707077777070777777700777777777777007777000000000000000000000000000000000000000000000000
77770506760006777600567707777777770000007770707777070777777700777700777700000000000000000000000000000000000000000000000000000000
77756077765067776660567775777777770000007770070770700777777700777700777700000000000000000000000000000000000000000000000000000000
77706077655066666650556770777777770000007707007007070077000000777700000000000000000000000000000000000000000000000000000000000000
77706066555066666550055555777777770000007000000770000007000007777770000000000000000000000000000000000000000000000000000000000000
77706055555056665550000057777777770000007077770770777707777777777777777700000000000000000000000000000000000000000000000000000000
77706055555055555550077777777777770000007707707007077077777777777777777700000000000000000000000000000000000000000000000000000000
77755505550055555500077777777777770000007770077777700777777777777777777700000000000000000000000000000000000000000000000000000000
77770050005505555000777777777777770000007777777777777777777777777777777700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007777777777777700777777777777777700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007700777777770000777777777770077700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007700077777000000000000007706507700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007700007700000000000000007055550700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007700000777777777777777777066660700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007700007777777777777777777706607700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007700077777777777777777777770077700000000000000000000000000000000000000000000000000000000
77777777777777777777777777777777770000007700777777777777777777777777777700000000000000000000000000000000000000000000000000000000
12131313132003303013131313032012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
12131313130320303013131313200312000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
12101010101010131310101010101012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
12202020202010131310202020202012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
12202020202010131310202020202012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
12202020202010131310202020202012000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
01020202020201030301020202020201000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000404142430c0d0e0f08090a0b04050607
01010101010101030301010101010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000505152531c1d1e1f18191a1b14151617
01020202020202030302020202303001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000606162632c2d2e2f28292a2b24252627
01020202020202030303030303030301000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000707172733c3d3e3f38393a3b34353637
0102020202022103030303030303030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0112222222322112222232030303030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373737373737373737373
2102020202022131313131313131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373737373737373737373
2130300230022131313131313131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073597347484848497373737373737373
2102020202022131313131313131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073687777777777775873737373737373
2112222222322131313131313131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373737373737373737373
2102020202020202020303030303032100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373737373737373737373
2102020202020202020303030303032100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373737373737373737373
2102020202020202020320313131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373737347484848495773
2121211222223221212121311131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373737373737373735773
0102020202020230020303313131310100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000073737373737373767777777777776773
0102020202023002300303313131310100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000045464646464645464646464646464656
0102020303030303030303020202020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737355737373737373737355
0102020303030303030303303030300100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737355737373737373737355
0102020303020202020202020202020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737355737373737373737355
0102020303020202020202020202020100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737355737373737373737355
0113131222321313122222222222320100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000065464646464665464646464646464666
0102020303030303030303030303030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000045464646464646464646464646464656
0102020303030303030303030303030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737373737373737373737355
0102020202020202023131313103030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737373737373737373737355
0121212121212121213131313112320100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737373737373737373737355
0102020202300230023131313103030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000055737373737373737373737373737355
0102110202023002303131313103030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000065464646464646464646464646464666
0103030303030303030303030303030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0103030303030303030303030303030100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0112320303030310122222222222320100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2102023131313103030202313131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2102023131313103030202313131312100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
